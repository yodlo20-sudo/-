<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>STRATEGIC COMMAND CENTER | IRAN MONITOR</title>
    <style>
        :root { --danger: #ff3e3e; --bg: #050505; --card: #111113; --border: #2d2d2d; --text: #e1e1e1; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; overflow: hidden; height: 100vh; }
        .header { background: #000; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--danger); height: 50px; }
        .dashboard { display: grid; grid-template-columns: 320px 1fr 320px; height: calc(100vh - 52px); gap: 5px; padding: 5px; box-sizing: border-box; }
        .column { display: flex; flex-direction: column; gap: 5px; overflow: hidden; }
        .panel { background: var(--card); border: 1px solid var(--border); border-radius: 4px; display: flex; flex-direction: column; overflow: hidden; flex-grow: 1; }
        .panel-header { background: #1a1a1a; padding: 8px 12px; font-size: 12px; font-weight: bold; border-bottom: 1px solid var(--border); color: #aaa; }
        iframe { border: none; width: 100%; height: 100%; background: #000; }
        .scroll { overflow-y: auto; padding: 10px; flex-grow: 1; font-size: 13px; }
        .news-box { background: #1a1a1c; border: 1px solid #222; padding: 10px; margin-bottom: 8px; border-radius: 4px; display: block; text-decoration: none; color: inherit; border-right: 3px solid var(--danger); }
        .news-box:hover { background: #222; }
        .tag { font-size: 9px; font-weight: bold; color: var(--danger); margin-bottom: 4px; }
    </style>
</head>
<body>

<div class="header">
    <div style="display:flex; align-items:center; gap:15px;">
        <h1 style="margin:0; font-size: 18px;">COMMAND CENTER | OSINT HUB</h1>
        <div style="color:var(--danger); font-size:12px; font-weight:bold;">â— LIVE MONITORING</div>
    </div>
    <div id="clock" style="font-family:monospace; font-size:18px; color:var(--danger);">00:00:00</div>
</div>

<div class="dashboard">
    <div class="column">
        <div class="panel" style="height: 250px; flex-grow:0;">
            <div class="panel-header">ğŸ“ˆ ×©×•×•×§×™× (× ×¤×˜/×–×”×‘/×‘×™×˜×§×•×™×Ÿ)</div>
            <iframe src="https://www.widgets.investing.com/live-commodities-charts?theme=darkTheme&pairs=8833,8830,1057391"></iframe>
        </div>
        <div class="panel">
            <div class="panel-header">ğŸ‡®ğŸ‡± ×¤×™×“ ×™×©×¨××œ - ×–××Ÿ ×××ª</div>
            <div id="il-feed" class="scroll">×¡×•×¨×§ ××§×•×¨×•×ª ×™×©×¨××œ×™×™×...</div>
        </div>
    </div>

    <div class="column">
        <div class="panel" style="height: 60%;">
            <div class="panel-header">âœˆï¸ × ×™×˜×•×¨ ×ª×¢×•×¤×” (ADSB Exchange)</div>
            <iframe src="https://globe.adsbexchange.com/?lat=32.42&lon=53.68&zoom=5&hideSidebar&hideButtons"></iframe>
        </div>
        <div class="panel">
            <div class="panel-header">ğŸŒ ×¤×™×“ ×¢×•×œ××™ (OSINT)</div>
            <div id="world-feed" class="scroll">×¡×•×¨×§ ××§×•×¨×•×ª ×‘×™× ×œ××•××™×™×...</div>
        </div>
    </div>

    <div class="column">
        <div class="panel">
            <div class="panel-header">ğŸ”¹ ×˜×œ×’×¨× - ×¢×¨×•×¥ ××•×“×™×¢×™×Ÿ</div>
            <iframe src="https://tgwidget.com/channel/v2/abualiexpress/"></iframe>
        </div>
        <div class="panel" style="height: 100px; flex-grow:0; background:#000; color:#0f0; font-family:monospace; padding:10px; font-size:11px; border-top: 2px solid #222;">
            >> SYSTEM STATUS: ONLINE<br>
            >> SCANNING REGION: MIDDLE EAST<br>
            <div id="console-log">>> WAITING FOR DATA...</div>
        </div>
    </div>
</div>

<script>
    // ×¢×“×›×•×Ÿ ×©×¢×•×Ÿ
    setInterval(() => document.getElementById('clock').innerText = new Date().toLocaleTimeString('he-IL'), 1000);

    async function updateFeeds() {
        // ×™×©×¨××œ (Ynet RSS)
        try {
            const res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent('https://www.ynet.co.il/Integration/StoryRss2.xml')}`);
            const data = await res.json();
            const items = data.items.filter(i => (i.title + i.description).includes('××™×¨××Ÿ'));
            document.getElementById('il-feed').innerHTML = items.length ? items.map(i => `
                <a href="${i.link}" target="_blank" class="news-box">
                    <div class="tag">YNET / OSINT</div> ${i.title}
                </a>
            `).join('') : "××™×Ÿ ×“×™×•×•×—×™× ×—×“×©×™× ×›×¨×’×¢.";
        } catch(e) { }

        // ×¢×•×œ× (Al Jazeera RSS ×›×—×œ×•×¤×” ×œ-NewsAPI ×”×—×¡×•×)
        try {
            const res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent('https://www.aljazeera.com/xml/rss/all.xml')}`);
            const data = await res.json();
            const items = data.items.filter(i => i.title.toLowerCase().includes('iran'));
            document.getElementById('world-feed').innerHTML = items.length ? items.map(i => `
                <a href="${i.link}" target="_blank" class="news-box">
                    <div class="tag">GLOBAL NEWS</div> ${i.title}
                </a>
            `).join('') : "Scanning global sources...";
        } catch(e) { }
    }

    updateFeeds();
    setInterval(updateFeeds, 120000); // ×¨×¢× ×•×Ÿ ×›×œ 2 ×“×§×•×ª
</script>
</body>
</html>